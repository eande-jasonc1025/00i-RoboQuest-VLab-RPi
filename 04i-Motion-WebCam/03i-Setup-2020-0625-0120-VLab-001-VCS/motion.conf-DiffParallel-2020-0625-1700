# /etc/motion/motion.conf				      <
#							      <
# jwc 2020-0530						      <
# jwc 'sudo service motion status'			      <
# jwc 'sudo service motion restart'			      <
# jwc Seems to be an issue w 2-digit number, 		      <
#     so use 3-digits to help goto camera URL subpages	      <
							      <
							      <
# Rename this distribution example file to motion.conf		# Rename this distribution example file to motion.conf
#								#
# This config file was generated by motion 4.3.1		# This config file was generated by motion 4.3.1
# Documentation:  /usr/share/doc/motion/motion_guide.html	# Documentation:  /usr/share/doc/motion/motion_guide.html
#								#
# This file contains only the basic configuration options to 	# This file contains only the basic configuration options to 
# system working.  There are many more options available.  Pl	# system working.  There are many more options available.  Pl
# consult the documentation for the complete list of all opti	# consult the documentation for the complete list of all opti
#								#

############################################################	############################################################
# System control configuration parameters			# System control configuration parameters
############################################################	############################################################

# Start in daemon (background) mode and release terminal.	# Start in daemon (background) mode and release terminal.
; jwc o daemon off					      |	daemon off
daemon on						      <

# Start in Setup-Mode, daemon disabled.				# Start in Setup-Mode, daemon disabled.
setup_mode off							setup_mode off

# File to store the process ID.					# File to store the process ID.
; pid_file value						; pid_file value

# File to write logs messages into.  If not defined stderr an	# File to write logs messages into.  If not defined stderr an
; log_file value						; log_file value

# Level of log messages [1..9] (EMG, ALR, CRT, ERR, WRN, NTC,	# Level of log messages [1..9] (EMG, ALR, CRT, ERR, WRN, NTC,
log_level 6							log_level 6

# Target directory for pictures, snapshots and movies		# Target directory for pictures, snapshots and movies
; target_dir value						; target_dir value
; jwc minimize disk-usage: y: target_dir /home/pi/Link_RpiSet <
target_dir /home/pi/Link_roboquest-vlab--rpi/04i-Motion-WebCa <

# Video device (e.g. /dev/video0) to be used for capturing.	# Video device (e.g. /dev/video0) to be used for capturing.
; jwc o videodevice /dev/video0				      <
; jwc y GearHead Usb WebCam AutoFocus: videodevice /dev/video <
; jwc elp-usbfhd01m-l180: after confirm w/ 'lsusb' and 'ffpla <
videodevice /dev/video0						videodevice /dev/video0

# Parameters to control video device.  See motion_guide.html	# Parameters to control video device.  See motion_guide.html
; vid_control_params value					; vid_control_params value

# The full URL of the network camera stream.			# The full URL of the network camera stream.
; netcam_url value						; netcam_url value

# Name of mmal camera (e.g. vc.ril.camera for pi camera).	# Name of mmal camera (e.g. vc.ril.camera for pi camera).
; mmalcam_name value						; mmalcam_name value

# Camera control parameters (see raspivid/raspistill tool doc	# Camera control parameters (see raspivid/raspistill tool doc
; mmalcam_control_params value					; mmalcam_control_params value

############################################################	############################################################
# Image Processing configuration parameters			# Image Processing configuration parameters
############################################################	############################################################

# Image width in pixels.					# Image width in pixels.
; jwc o width 640					      |	width 640
width 320						      <

# Image height in pixels.					# Image height in pixels.
; jwc o height 480					      |	height 480
height 240						      <

# Maximum number of frames to be captured per second.		# Maximum number of frames to be captured per second.
; jwc o framerate 15					      |	framerate 15
; jwc framerate 100					      <
; jwc y result 10fps: framerate 20			      <
framerate 30						      <

# Text to be overlayed in the lower left corner of images	# Text to be overlayed in the lower left corner of images
; jwc o text_left CAMERA1				      |	text_left CAMERA1
; jwc y: since 'text_scale' not affect here, move to 'text_ri <
; jwc y text_left %{host}\nCamera-01			      <
; jwc y text_left %{host}\nCamera-01\n%{fps}		      <
; jwc y text_left %{host}\nCamera-01\n%{fps} (%K,%L)	      <
text_left %{host}\nCamera-100\n%{fps} (%K,%L)		      <

# Text to be overlayed in the lower right corner of images.	# Text to be overlayed in the lower right corner of images.
# jwc Appears 'text_scale' only affects 'text_right'	      <
; jwc o text_right %Y-%m-%d\n%T-%q			      <
; jwc y text_right %Y-%m-%d\n%T-%q			      <
; jwc ? text_right %{fps}\n[%K,%L]\n%Y-%m-%d\n%T-%q	      <
; jwc n text_right %Y-%m-%d\n%T-%q\n[%K,%L]		      <
text_right %Y-%m-%d\n%T-%q					text_right %Y-%m-%d\n%T-%q

# Text_Scale: Range: 1-10 (Default: 1)			      <
# jwc: Key: too many lines (3+) loses 'text_scale'	      <
; jwc y text_scale 3					      <
; jwc n text_scale 5					      <
text_scale 2						      <
							      <
############################################################	############################################################
# Motion detection configuration parameters			# Motion detection configuration parameters
############################################################	############################################################

# Always save pictures and movies even if there was no motion	# Always save pictures and movies even if there was no motion
emulate_motion off						emulate_motion off

# Threshold for number of changed pixels that triggers motion	# Threshold for number of changed pixels that triggers motion
threshold 1500							threshold 1500

# Noise threshold for the motion detection.			# Noise threshold for the motion detection.
; noise_level 32						; noise_level 32

# Despeckle the image using (E/e)rode or (D/d)ilate or (l)abe	# Despeckle the image using (E/e)rode or (D/d)ilate or (l)abe
despeckle_filter EedDl						despeckle_filter EedDl

# Number of images that must contain motion to trigger an eve	# Number of images that must contain motion to trigger an eve
minimum_motion_frames 1						minimum_motion_frames 1

# Gap in seconds of no motion detected that triggers the end 	# Gap in seconds of no motion detected that triggers the end 
event_gap 60							event_gap 60

# The number of pre-captured (buffered) pictures from before 	# The number of pre-captured (buffered) pictures from before 
pre_capture 3							pre_capture 3

# Number of frames to capture after motion is no longer detec	# Number of frames to capture after motion is no longer detec
post_capture 0							post_capture 0

# jwc new						      <
locate_motion_mode on					      <
							      <
# jwc new						      <
locate_motion_style redbox				      <
							      <
############################################################	############################################################
# Script execution configuration parameters			# Script execution configuration parameters
############################################################	############################################################

# Command to be executed when an event starts.			# Command to be executed when an event starts.
; on_event_start value						; on_event_start value

# Command to be executed when an event ends.			# Command to be executed when an event ends.
; on_event_end value						; on_event_end value

# Command to be executed when a movie file is closed.		# Command to be executed when a movie file is closed.
; on_movie_end value						; on_movie_end value

############################################################	############################################################
# Picture output configuration parameters			# Picture output configuration parameters
############################################################	############################################################

# Output pictures when motion is detected			# Output pictures when motion is detected
picture_output off						picture_output off

# File name(without extension) for pictures relative to targe	# File name(without extension) for pictures relative to targe
picture_filename %Y%m%d%H%M%S-%q				picture_filename %Y%m%d%H%M%S-%q

############################################################	############################################################
# Movie output configuration parameters				# Movie output configuration parameters
############################################################	############################################################

# Create movies of motion events.				# Create movies of motion events.
; jwc o movie_output on					      |	movie_output on
movie_output off					      <

# Maximum length of movie in seconds.				# Maximum length of movie in seconds.
movie_max_time 60						movie_max_time 60

# The encoding quality of the movie. (0=use bitrate. 1=worst 	# The encoding quality of the movie. (0=use bitrate. 1=worst 
movie_quality 45						movie_quality 45

# Container/Codec to used for the movie. See motion_guide.htm	# Container/Codec to used for the movie. See motion_guide.htm
movie_codec mkv							movie_codec mkv

# File name(without extension) for movies relative to target 	# File name(without extension) for movies relative to target 
; jwc o ? movie_filename %t-%v-%Y%m%d%H%M%S		      |	movie_filename %t-%v-%Y%m%d%H%M%S

############################################################	############################################################
# Webcontrol configuration parameters				# Webcontrol configuration parameters
############################################################	############################################################

# Port number used for the webcontrol.				# Port number used for the webcontrol.
webcontrol_port 8080						webcontrol_port 8080

# Restrict webcontrol connections to the localhost.		# Restrict webcontrol connections to the localhost.
; jwc o webcontrol_localhost on				      |	webcontrol_localhost on
; jwc allow admin remotely				      <
webcontrol_localhost off				      <

# Type of configuration options to allow via the webcontrol.	# Type of configuration options to allow via the webcontrol.
webcontrol_parms 0						webcontrol_parms 0

############################################################	############################################################
# Live stream configuration parameters				# Live stream configuration parameters
############################################################	############################################################

# The port number for the live stream.				# The port number for the live stream.
stream_port 8081						stream_port 8081

# Restrict stream connections to the localhost.			# Restrict stream connections to the localhost.
; jwc o stream_localhost on				      |	stream_localhost on
stream_localhost off					      <
							      <
# Default is 1						      <
; jwc o stream_maxrate 100				      <
; stream_maxrate 100					      <
; jwc y gave 10fps: stream_maxrate 20			      <
stream_maxrate 30					      <

#############################################################	#############################################################
# Camera config files - One for each camera.			# Camera config files - One for each camera.
#############################################################	#############################################################
; camera /usr/etc/motion/camera1.conf				; camera /usr/etc/motion/camera1.conf
camera /etc/motion/camera1.conf				      <
; camera /usr/etc/motion/camera2.conf				; camera /usr/etc/motion/camera2.conf
camera /etc/motion/camera2.conf				      <
; camera /usr/etc/motion/camera3.conf				; camera /usr/etc/motion/camera3.conf
;jwc y camera /etc/motion/camera3.conf			      <
; camera /usr/etc/motion/camera4.conf				; camera /usr/etc/motion/camera4.conf

#############################################################	#############################################################
# Directory to read '.conf' files for cameras.			# Directory to read '.conf' files for cameras.
#							      <
# jwc Does NOT seem needed for multiple cameras		      <
#############################################################	#############################################################
; camera_dir /usr/etc/motion/conf.d				; camera_dir /usr/etc/motion/conf.d
